<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta title="Pfadi Zürcher Oberland Foulard Game">
  <meta name="viewport" content="user-scalable=no">  <!-- width=device-width would make it too big on phone screen -->
</head>
<body style="background-color:#555">
<h1 id="winning_text" style="color:white">Klicke nacheinander auf Foulard und Abteilungsnamen die zusammengehören</h1>
<div id="cards">
<svg height="100" width="200" id="0">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#fff;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#0a0;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#0a0;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#fff;" />
</svg>



<svg height="100" width="200" id="2">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#f00;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#f00;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#ff0;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#ff0;" />
</svg>

<svg height="100" width="200" id="4">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#000;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#000;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#ff0;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#ff0;" />
</svg>

<svg height="100" width="200" id="6">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#f00;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#fff;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#f00;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#fff;" />
</svg>

<svg height="100" width="200" id="8">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#000;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#000;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#f00;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#fff;" />
</svg>

<svg height="100" width="200" id="10">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#f00;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#f00;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#000;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#000;" />
</svg>

<svg height="100" width="200" id="12">
  <polygon points="0,0 200,0 187.5,12.5 12.5,12.5" style="fill:#0f0;" />
  <polygon points="25,25 175,25 187.5,12.5 12.5,12.5" style="fill:#080;" />
  <polygon points="25,25 175,25 162.5,37.5 37.5,37.5" style="fill:#0af;" />
  <polygon points="50,50 150,50 162.5,37.5 37.5,37.5" style="fill:#00a;" />
  <polygon points="50,50 150,50 137.5,62.5 62.5,62.5" style="fill:#800;" />
  <polygon points="75,75 125,75 137.5,62.5 62.5,62.5" style="fill:#f00;" />
  <polygon points="75,75 125,75 112.5,87.5 87.5,87.5" style="fill:#f80;" />
  <polygon points="100,100 112.5,87.5 87.5,87.5" style="fill:#ff0;" />
</svg>

<svg height="100" width="200" id="14">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#f80;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#f00;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#800;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#800;" />
</svg>

<svg height="100" width="200" id="16">
  // left background
  <polygon points="0,0 100,100 100,0" style="fill:#00f;" />
  // right background
  <polygon points="100,0 100,100 200,0" style="fill:#fff;" />
   // left
  <polygon points="17,7 100,7 100,90" style="fill:#00f;" />
  // right
  <polygon points="100,7 100,90 183,7" style="fill:#fff;" />
</svg>

<svg height="100" width="200" id="1">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Effretikon</text>
</svg>

<svg height="100" width="200" id="3">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Paprika</text>
</svg>

<svg height="100" width="200" id="5">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Sirius</text>
</svg>

<svg height="100" width="200" id="11">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Uster-Greifensee</text>
</svg>

<svg height="100" width="200" id="7">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Pfäffikon</text>
</svg>

<svg height="100" width="200" id="9">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Vis-à-Vis</text>
</svg>

<svg height="100" width="200" id="13">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Wald-Bauma</text>
</svg>


<svg height="100" width="200" id="15">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">PTA Bütschgi</text>
</svg>

<svg height="100" width="200" id="17">
  // background
  <polygon points="0,0 200,0 100,100" style="fill:#fff;" />
  // text
  <text x="50" y="30" font-size="24" fill="#000">Korps ZH</text>
</svg>
</div>
<hr>
<div id="pair0"></div>
<div id="pair1"></div>
<div id="pair2"></div>
<div id="pair3"></div>
<div id="pair4"></div>
<div id="pair5"></div>
<div id="pair6"></div>
<div id="pair7"></div>
<div id="pair8"></div>



<script>
  let matches = 0;
  var parent = document.getElementById("cards");
  var divs = parent.children;
  for (let thing of divs){
    thing.onclick = function() {clickhandler(thing.id)};
  }

  var frag = document.createDocumentFragment();
  while (divs.length) {
    frag.appendChild(divs[Math.floor(Math.random() * divs.length)]);
  }
  parent.appendChild(frag);

  let active_name = -1;
  let active_flag = -1;


  function clickhandler(id){
    let number = parseInt(id);
    if (number % 2 === 1){
      active_name = number;
    } else {
      active_flag = number;
    }
    if (Math.floor(active_name/2) === Math.floor(active_flag/2)){
      console.log("active flag: " + active_flag);
      console.log("pair"+matches.toString());
      console.log(document.getElementById(("pair"+matches.toString()).toString()));
      console.log(document.getElementById(active_flag.toString()))
      console.log(document.getElementById(active_name.toString()))
      document.getElementById("pair"+matches.toString()).appendChild(document.getElementById(active_flag.toString()));
      document.getElementById("pair"+matches.toString()).appendChild(document.getElementById(active_name.toString()));
      matches += 1;
      if (matches===9){
        let d = new Date();
        document.getElementById("winning_text").innerHTML = "Gut gemacht! " + d.getHours()+':'+d.getMinutes()+':'+d.getSeconds()+'.'+d.getMilliseconds();
      }
    }
    console.log(parseInt(id));
  }

</script>
</body>
</html>
